window.addEventListener("DOMContentLoaded",()=>{let a=document.querySelectorAll(".tpgb-unfold-wrapper");a&&a.forEach(a=>{let b=a.getAttribute("data-settings"),c=a.querySelector(".tpgb-unfold-description-inner"),d=a.querySelector(".tpgb-unfold-last-toggle"),e=0,f=a.querySelector(".tpgb-unfold-description");if(c&&(e=c.offsetHeight),b=JSON.parse(b),e<=b.maxHeight){f&&f.classList.add("less-desc-height"),d.style.display="none";const a=document.createElement("style");a.textContent=`.tpgb-unfold-wrapper.${b.id} .tpgb-unfold-description.${"less-desc-height"}:after{min-height:0;background: transparent;}.${b.id} .tpgb-unfold-description.${"less-desc-height"}{height:auto;}`,document.head.appendChild(a)}let g=a.querySelector(".tpgb-unfold-toggle");f&&(f.style.transition=b.duration+"ms ease-in-out height"),g&&g.addEventListener("click",c=>{if(a.classList.contains("fullview")){a.classList.remove("fullview"),"before"==b.iconPos&&null!=b.iconPos?c.currentTarget.innerHTML=b.readmoreIcon+b.readmore:"after"==b.iconPos&&null!=b.iconPos&&(c.currentTarget.innerHTML=b.readmore+b.readmoreIcon);var d=window.innerWidth;1025<=d?f.style.height=b.maxHeight+"px":1024>=d&&768<=d?f.style.height=b.maxHeightT+"px":767>=d&&(f.style.height=b.maxHeightM+"px")}else{a.classList.add("fullview");var e=parseInt(a.querySelector(".tpgb-unfold-description-inner").offsetHeight);"before"==b.iconPos&&null!=b.iconPos?c.currentTarget.innerHTML=b.readlessIcon+b.readless:"after"==b.iconPos&&null!=b.iconPos&&(c.currentTarget.innerHTML=b.readless+b.readlessIcon),f.style.height=e+"px"}})})});