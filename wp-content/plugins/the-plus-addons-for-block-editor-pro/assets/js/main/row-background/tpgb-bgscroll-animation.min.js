(function(a){a(".tpgb-section:not(.tpgb-section-editor),.tpgb-container-row:not(.tpgb-container-row-editor)").each(function(){if(0<a(this).find(".tpgb-row-bg-gradient").length){var b=a(this).find(".tpgb-row-bg-gradient"),c=b.data("position"),d=b.data("full-page");"yes"==d&&(a(this).closest(".site-content").prepend(b),a(this).closest(".site-content").css("position",c))}if(a(this).find(".tpgb-row-scrollbg").length){var e=a(this).find(".tpgb-row-scrollbg"),f=e.find(".tpgb-section-bg-scrolling");if(a(this).closest(".site-content").prepend(e),a(this).closest(".site-content").css("position",e),"yes"==e.data("scrolling-effect")){var g=e.data("bgcolors");if(g){var h=e.closest(".site-content"),j=0,k=g.length,l=a(".tpgb-section").length?h.find(".tpgb-section"):h.find(".tpgb-container-row");l.each(function(){if(k>j)var b=j,c=j+1;else{j=0;var b=j,c=j+1}""!=g[b]&&null!=g[b]&&(b=g[b]),""!=g[c]&&null!=g[c]?c=g[c]:(j=0,c=j,c=g[c]),rowTransitionalColor(a(this),new a.Color(b),new a.Color(c)),j++})}}else if(e.length){var g=e.data("bgcolors");if(g){let a=document.querySelectorAll(".tpgb-section"),b="";b=a.length?Array.from(document.querySelectorAll(".tpgb-section")):Array.from(document.querySelectorAll(".tpgb-container-row"));var c,m=e.find(".tpgb-section-bg-scrolling"),n=b.length,o=0;b.forEach((a,d)=>{const f=d?b[d]:b[d];d=d?d:n;const g=scrollMonitor.create(f,{top:-300});g.enterViewport(function(){o=d,c=n>=m.length&&d+1>m.length?0:d,e.find(".tpgb-section-bg-scrolling").removeClass("active"),e.find(".tpgb-section-bg-scrolling:nth-child("+(c+1)+")").addClass("active")}),g.exitViewport(function(){var a=g.isAboveViewport?d+1:d-1;a<=n&&o!==a&&(o=a,c=n>m.length&&a+1>m.length?0:a,e.find(".tpgb-section-bg-scrolling").removeClass("active"),e.find(".tpgb-section-bg-scrolling:nth-child("+(c+1)+")").addClass("active"))})})}}}})})(jQuery);function rowTransitionalColor(a,b,c){"use strict";var d,e,f,g,h,i=jQuery,j=0,k=a,l=b,m=c;i(document).scroll(function(){var a=k.offset().top,b=800>k.outerHeight()?k.outerHeight()/4:i(window).height(),c=a+k.outerHeight()-b;j=i(this).scrollTop(),j>=a&&j<=c?(d=(j-a)/(k.outerHeight()-b),e=Math.abs(l.red()+(m.red()-l.red())*d),f=Math.abs(l.green()+(m.green()-l.green())*d),g=Math.abs(l.blue()+(m.blue()-l.blue())*d),h=new i.Color(e,f,g),i(".tpgb-row-scrollbg").animate({backgroundColor:h},0)):j>c&&i(".tpgb-row-scrollbg").animate({backgroundColor:m},0)})}