!function(i){"use strict";i(".tpgb-fontawesome-kit-pro").on("click",function(e){var t=i(this),a=i(this).find(">span"),o=i("#fontawesome_pro_kit").val();""!=o&&null!=o&&(t.addClass("check-loading"),a.removeClass("dashicons dashicons-image-rotate").addClass("inner-load"),o="https://kit.fontawesome.com/"+o+".js",i.get(o,function(){t.removeClass("check-loading"),t.addClass("check-sucess"),a.addClass("dashicons dashicons-yes").removeClass("inner-load")}).fail(function(){t.removeClass("check-loading"),t.addClass("check-failed"),a.addClass("dashicons dashicons-no-alt").removeClass("inner-load")}).done(function(){t.removeClass("check-loading"),setTimeout(function(){t.removeClass("check-failed check-sucess"),a.removeClass("inner-load dashicons dashicons-saved dashicons-yes dashicons-no-alt"),a.addClass("dashicons dashicons-image-rotate")},5e3)}))}),0<i(".tpgb-color-picker").length&&i("input.tpgb-color-picker").wpColorPicker(),i(document).on("click","button.tpgb_upload_image_button",function(e){e.preventDefault(),e.stopPropagation();var a=void 0,o=this;"undefined"!=typeof wp&&wp.media&&wp.media.editor&&(a||((a=wp.media.frames.select_image=wp.media({title:"Choose an Image",button:{text:"Use Image"},multiple:!1})).on("select",function(){var e,t=a.state().get("selection").first().toJSON();""!==i.trim(t.id)&&(e=(void 0===t.sizes.thumbnail?t.sizes.full:t.sizes.thumbnail).url,i(o).prev().val(t.id),i(o).closest(".tpgb-meta-image-field-wrapper").find("img").attr("src",e),i(o).next().show())}),a.on("open",function(){var e=a.state().get("selection"),t=i(o).prev().val(),t=wp.media.attachment(t);t.fetch(),e.add(t?[t]:[])})),a.open())}),i(document).on("click","button.tpgb_remove_image_button",function(e){e.preventDefault(),e.stopPropagation();e=i(this).closest(".tpgb-meta-image-field-wrapper").find("img").data("placeholder");return i(this).closest(".tpgb-meta-image-field-wrapper").find("img").attr("src",e),i(this).prev().prev().val(""),i(this).hide(),!1}),i(".tpgb-rollback-pro-wrapper").length&&i(".tpgb-rollback-pro-wrapper").each(function(){var e=i(this),t=e.find(".tpgb-pro-rollback-button"),a=t.data("rv-pro-text"),o=t.data("rv-url"),s=e.find(".tpgb-rollback-pro-list").val();s&&(t.html(a.replace("{TPGBP_VERSION}",s)),t.attr("href",o.replace("TPGBP_VERSION",s))),e.find(".tpgb-rollback-pro-list").on("change",function(){t.html(a.replace("{TPGBP_VERSION}",i(this).val())),t.attr("href",o.replace("TPGBP_VERSION",i(this).val()))}),t.on("click",function(e){e.preventDefault();e=i(this);confirm("Are you sure you want to reinstall previous version?")&&(location.href=e.attr("href"))})})}(window.jQuery);