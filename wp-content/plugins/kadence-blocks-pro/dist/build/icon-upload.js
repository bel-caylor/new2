(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,n=window.wp.i18n,l=window.wp.domReady;var o=e.n(l);const a=window.lodash,r=window.wp.components;function c(e){const[l,o]=(0,t.useState)(kbIconJson),c=(0,a.get)(l,["preferences","imagePref","prefix"],""),i=(0,a.get)(l,["height"],"");return(0,t.createElement)(t.Fragment,null,c?(0,t.createElement)(t.Fragment,null,(0,n.__)("Icon Set Prefix:","kadence-blocks-pro")," ",(0,t.createElement)("strong",null,c)):null,(0,t.createElement)((()=>{var e;const[a,c]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),[p,d]=(0,t.useState)(),m=0===Object.keys(l).length,u=()=>c(!1);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.Button,{variant:"primary",className:"is-primary",style:{float:m?"left":"right"},onClick:()=>c(!0)},m?(0,t.createElement)(t.Fragment,null,(0,n.__)("Upload an Icon file","kadence-blocks-pro")):(0,n.__)("Replace Icon file","kadence-blocks-pro")),a&&(0,t.createElement)(r.Modal,{title:(0,n.__)("Upload Icon JSON file","kadence-blocks-pro"),onRequestClose:u},null!==(e=!1!==i)&&void 0!==e?e:(0,t.createElement)(r.Notice,{status:"error",onRemove:()=>s(!1)},(0,t.createElement)("p",null,i)),(0,n.__)("Upload the .json file from within the IcoMoon .zip file (Make sure each set has a unique prefix)","kadence-blocks-pro"),(0,t.createElement)("br",null),(0,t.createElement)("br",null),(0,n.__)("Need help?","kadence-blocks-pro")," ",(0,t.createElement)("a",{href:"https://www.kadencewp.com/kadence-blocks/documentation/pro-addon/custom-icons/",target:"_blank"},(0,n.__)("Visit the documentation here","kadence-blocks-pro")),(0,t.createElement)("br",null),(0,t.createElement)("br",null),(0,t.createElement)(r.FormFileUpload,{accept:"application/json",className:"is-primary",align:"center",onChange:e=>{d(e.target.files[0])}},(0,n.__)("Browse","kadence-blocks-pro")),p?null:(0,n.__)("Select a file","kadence-blocks-pro"),(0,t.createElement)("br",null),(0,t.createElement)("br",null),(0,t.createElement)(r.Button,{className:"is-secondary",onClick:u,text:(0,n.__)("Cancel","kadence-blocks-pro")}),"   ",(0,t.createElement)(r.Button,{className:"is-primary",disabled:!p,onClick:()=>function(e,t){let l,a=new FileReader;a.onload=function(e){try{l=JSON.parse(e.target.result)}catch(e){return void t((0,n.__)("Invalid JSON file","kadence-blocks-pro"))}"object"==typeof l?o(l):t((0,n.__)("Invalid JSON file. File not an object.","kadence-blocks-pro"))},a.readAsText(e)}(p,s),text:(0,n.__)("Upload","kadence-blocks-pro")})))}),null),(0,t.createElement)("div",{style:{display:"done"}},(0,t.createElement)("input",{type:"hidden",name:"_kb_icon_json",value:JSON.stringify(l)})),(0,t.createElement)("div",null,(0,t.createElement)("ul",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gridGap:"20px",padding:"15px 15px 0",overflowY:"auto",maxHeight:"575px",listStyle:"none"}},(0,a.has)(l,["icons"])&&Object.keys(l.icons).map((e=>{const n=(0,a.get)(l,["icons",e,"width"],0),o=(0,a.get)(l,["icons",e,"height"],0);let r=0,c="0",s="0";n>o?(r=n-o,s=Math.floor(r/2)):n<o&&(r=o-n,c=Math.floor(r/2));const p=c+" "+s+" "+i+" "+(0!==n?n:i);return(0,t.createElement)("li",{className:"icon-item",style:{position:"relative",borderRadius:"3px",border:"1px solid #eee",overflow:"hidden",textAlign:"center",display:"flex",flexDirection:"column",padding:"10px 10px 0",alignItems:"center",color:"#333",justifyContent:"center"}},(0,t.createElement)("svg",{style:{display:"inline-block",verticalAlign:"middle"},viewBox:p,preserveAspectRatio:"xMinYMin meet",height:"24px",width:"24px",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.icons[e].icon.paths.map((e=>(0,t.createElement)("path",{d:e})))),(0,t.createElement)("p",{style:{fontSize:"10px",fontWeight:"normal",color:"#888"}},(0,a.get)(l,["icons",e,"properties","name"],"")))})))))}o()((()=>{(0,t.render)((0,t.createElement)(c,null),document.querySelector(".kadence_replace_json_file"))}))})();